<div class="container content mx-auto w-full min-h-screen px-8 py-8 flex items-center justify-center" id="content" style="background-color: {{ section.background_color }};">
    <section id="simple-main" role="article" data-section-type="{{ section.section_type.name }}" data-id="{{ section.section_id }}" {% if section.explanation_id %}data-eli5-id="{{ section.explanation_id }}"{% endif %}>
        <div class="flex flex-col lg:flex-row px-8 items-center max-w-none w-full">
                    <!-- Single column layout for image-only or text-only pages -->
                    <div class="basis-full p-4 flex flex-col justify-center items-center" style="color: {{ section.text_color }};">
                        {% for part in section.part_ids %}
                        {% if images[part] %}
                        <img class="mb-8 w-full rounded-lg" data-id="{{ part }}" style="max-height: 80vh; object-fit: contain;"></img>
                        {% elif texts[part] %}
                        <!-- Calculate total text length for single column text -->
                        {% set total_text_length = 0 %}
                        {% for text_part in section.part_ids %}
                            {% if texts[text_part] %}
                                {% set total_text_length = total_text_length + texts[text_part]|length %}
                            {% endif %}
                        {% endfor %}
                        
                        <!-- Use smaller text if total text length exceeds 300 characters -->
                        {% set text_size_class = "text-lg lg:text-xl" if total_text_length > 300 else "text-2xl lg:text-3xl" %}
                        
                        <p class="mb-8 {{ text_size_class }} leading-relaxed text-center font-normal max-w-4xl" data-id="{{ part }}">{{ texts[part] }}</p>
                        {% endif %}
                        {% endfor %}
                    </div>
        </div>
    </section>
</div>